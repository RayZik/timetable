<div class="ui container">

    <input type="date" name="beginDate" (blur)='newDate.beginDate = $event.target.value'>
    <input type="date" name="endDate" (blur)='newDate.endDate = $event.target.value'>
    <div class="ui button" (click)="addDate(newDate)">Добавить</div><br>

    <!--Фильтр-->
    <tt-filter (onChanged)="onChanged($event)" [dateList]='dateList' [holidayList]='holidayList'></tt-filter>


    <!--Таблица-->
    <table class="ui celled table myTimetable">
        <thead>
            <tr>
                <th></th>
                <th *ngFor="let date of dateList;">
                    {{date.day|amDateFormat:'ll' }}
                </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let items of timeList">

                <td><i class="icon Minus Square Outline" (click)="deleteTimeLesson(items)"></i> {{(items.begin | amFromUnix)|amDateFormat:'LT'}}-{{(items.end|
                    amFromUnix)|amDateFormat:'LT'}}
                </td>

                <ng-container *ngFor="let slot of items.slots; let dayIndex = index">
                    <td *ngIf='dateList[dayIndex].isHoliday' [dragula]='"bag"' [dragulaModel]='slot' class="isHoliday">
                        <tt-cell class="myNoOpacity" *ngFor="let cell of slot" [cell]='cell' [dateList]='dateList' [time]='items' [data]='data' [dayIndex]='dayIndex'
                            [showSaveButton]='showSaveButton' (onChangedSaveCell)='onChangedSaveCell($event)'></tt-cell>
                    </td>

                    <td *ngIf='!dateList[dayIndex].isHoliday' [dragula]='"bag"' [dragulaModel]='slot'>
                        <tt-cell class="myNoOpacity" *ngFor="let cell of slot" [cell]='cell' [dateList]='dateList' [time]='items' [data]='data' [dayIndex]='dayIndex'
                            [showSaveButton]='showSaveButton' (onChangedSaveCell)='onChangedSaveCell($event)'></tt-cell>
                    </td>
                </ng-container>
            </tr>

            <tr>
                <td>
                    <input type="time" name="begin" (blur)='lesson.begin = $event.target.value'>
                    <input type="time" name="end" (blur)='lesson.end = $event.target.value'>
                    <div class="ui button" (click)="addLesson(lesson)">Добавить</div>
                </td>
            </tr>

        </tbody>
        <tfoot>

        </tfoot>
    </table>
    <br>
</div>

<div class="myBoxAddCell">
    <div class="ui button myButtonAdd" (click)="addCell()"><i class="icon plus"></i></div>
    <div class='myBagAddedCall' [dragula]='"bag"' [dragulaModel]='cellTimetable'>
        <div *ngFor="let item of cellTimetable">
            <tt-cell [cell]='item'></tt-cell>
        </div>
    </div>
</div>